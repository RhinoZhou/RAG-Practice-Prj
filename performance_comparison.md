
# 性能与成本优化微演示报告

## 策略对比

| Strategy          | P50 | P95 | Cost/req |
|-------------------|-----|-----|----------|
| baseline          | 801 | 1198 | 5.4k     |
| +cache            | 10  | 1074 | 2.6k     |
| +cache+batch      | 10  | 745  | 2.5k     |
| +routing          | 10  | 647  | 1.4k     |

## 详细统计

### 策略: baseline
- 请求总数: 1000
- 缓存命中率: 0.00%
- 总Token消耗: 541661
- 执行时间: 0.00秒

### 策略: +cache
- 请求总数: 1000
- 缓存命中率: 53.70%
- 总Token消耗: 262692
- 执行时间: 0.00秒

### 策略: +cache+batch
- 请求总数: 1000
- 缓存命中率: 55.10%
- 总Token消耗: 252816
- 执行时间: 0.00秒

### 策略: +routing
- 请求总数: 1000
- 缓存命中率: 55.10%
- 总Token消耗: 240889
- 执行时间: 0.00秒


## 分析总结

1. **缓存效应**：启用LRU近邻缓存后，P50和P95延迟显著降低，同时减少了Token消耗和成本。
2. **批处理优化**：结合批处理后，延迟进一步降低，特别是P95延迟有明显改善。
3. **智能路由**：应用分档路由策略后，在保持较低延迟的同时，大幅降低了总体成本。
4. **综合效果**：三种优化策略结合使用，实现了最佳的性能与成本平衡。
